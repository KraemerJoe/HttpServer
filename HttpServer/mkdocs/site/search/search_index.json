{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Projet R\u00e9seau M1 MIAGE - HttpServer Vous trouverez dans cette documentation toutes les informations li\u00e9es au projet de r\u00e9seau de M1 MIAGE. Pr\u00e9sentation & Licences Pr\u00e9sentation Dans le cadre de la mati\u00e8re R\u00e9seau il nous a \u00e9t\u00e9 demand\u00e9 d'\u00e9crire en Java un serveur web sachant g\u00e9rer la requ\u00eate GET. Plusieurs points nous ont \u00e9t\u00e9 demand\u00e9s et voici une liste de nos choix ainsi de ce qui a \u00e9t\u00e9 effectu\u00e9: Le projet est publi\u00e9 sur github Le projet pr\u00e9sente un readme et une documentation (document actuel) Le serveur doit est \u00e9cris en Java Ce projet n'utilise aucune librairies, il est fait uniquement \u00e0 partir de la JRE Un dossier peut \u00eatre prot\u00e9g\u00e9 si on y trouve un .htpasswd Il utilise l'algorithme MD5 pour l'encryption des mots de passe du .htpasswd Le serveur sait exploiter la requ\u00eate GET en HTTP/1.x Le serveur fonctionne correctement avec tous les sites demand\u00e9s Le serveur g\u00e8re proprement les erreurs Le serveur a un syst\u00e8me de multithreading Le code a \u00e9t\u00e9 document\u00e9 et rendu le plus possible capable d'\u00eatre compris et maintenu A chaque appel, les requ\u00eates apparaissent en console Un fichier properties externe vous permet de configurer : localisation des dossiers du serveur, num\u00e9ro du port, nombre de threads Une fonctionnalit\u00e9 bonus a \u00e9t\u00e9 impl\u00e9ment\u00e9e: Les ressources sont compr\u00e9ss\u00e9es en GZIP. Auteurs Ce projet a \u00e9t\u00e9 r\u00e9alis\u00e9 par les \u00e9tudiants KRAEMER Jo\u00e9 et DUPONT F\u00e9lix. Le projet a \u00e9t\u00e9 encadr\u00e9 par notre professeur J. Bertrand. Licence","title":"Accueil"},{"location":"index.html#projet-reseau-m1-miage-httpserver","text":"Vous trouverez dans cette documentation toutes les informations li\u00e9es au projet de r\u00e9seau de M1 MIAGE.","title":"Projet R\u00e9seau M1 MIAGE - HttpServer"},{"location":"index.html#presentation-licences","text":"","title":"Pr\u00e9sentation &amp; Licences"},{"location":"index.html#presentation","text":"Dans le cadre de la mati\u00e8re R\u00e9seau il nous a \u00e9t\u00e9 demand\u00e9 d'\u00e9crire en Java un serveur web sachant g\u00e9rer la requ\u00eate GET. Plusieurs points nous ont \u00e9t\u00e9 demand\u00e9s et voici une liste de nos choix ainsi de ce qui a \u00e9t\u00e9 effectu\u00e9: Le projet est publi\u00e9 sur github Le projet pr\u00e9sente un readme et une documentation (document actuel) Le serveur doit est \u00e9cris en Java Ce projet n'utilise aucune librairies, il est fait uniquement \u00e0 partir de la JRE Un dossier peut \u00eatre prot\u00e9g\u00e9 si on y trouve un .htpasswd Il utilise l'algorithme MD5 pour l'encryption des mots de passe du .htpasswd Le serveur sait exploiter la requ\u00eate GET en HTTP/1.x Le serveur fonctionne correctement avec tous les sites demand\u00e9s Le serveur g\u00e8re proprement les erreurs Le serveur a un syst\u00e8me de multithreading Le code a \u00e9t\u00e9 document\u00e9 et rendu le plus possible capable d'\u00eatre compris et maintenu A chaque appel, les requ\u00eates apparaissent en console Un fichier properties externe vous permet de configurer : localisation des dossiers du serveur, num\u00e9ro du port, nombre de threads Une fonctionnalit\u00e9 bonus a \u00e9t\u00e9 impl\u00e9ment\u00e9e: Les ressources sont compr\u00e9ss\u00e9es en GZIP.","title":"Pr\u00e9sentation"},{"location":"index.html#auteurs","text":"Ce projet a \u00e9t\u00e9 r\u00e9alis\u00e9 par les \u00e9tudiants KRAEMER Jo\u00e9 et DUPONT F\u00e9lix. Le projet a \u00e9t\u00e9 encadr\u00e9 par notre professeur J. Bertrand.","title":"Auteurs"},{"location":"index.html#licence","text":"","title":"Licence"},{"location":"auth.html","text":"Prot\u00e9ger un dossier Fichier .htpasswd Pour prot\u00e9ger un dossier il est possible de rajouter un fichier .htpasswd \u00e0 la racine d'un dossier. Exemple dans le dossier /verti. Identifiants Pour rajouter des identifiants, ouvrez le fichiers .htpasswd du r\u00e9pertoire prot\u00e9g\u00e9 et rajoutez une ligne de la mani\u00e8re suivante: nom_utilisateur:mdp_en_md5 Exemple: Acc\u00e9der au r\u00e9pertoire prot\u00e9g\u00e9 Il vous sera alors demand\u00e9 un des identifiants d'une ligne de votre .htpasswd pour vous connecter. Attention, le mot de passe demand\u00e9 est celui qui n'est pas en MD5.","title":"Prot\u00e9ger un dossier"},{"location":"auth.html#proteger-un-dossier","text":"","title":"Prot\u00e9ger un dossier"},{"location":"auth.html#fichier-htpasswd","text":"Pour prot\u00e9ger un dossier il est possible de rajouter un fichier .htpasswd \u00e0 la racine d'un dossier. Exemple dans le dossier /verti.","title":"Fichier .htpasswd"},{"location":"auth.html#identifiants","text":"Pour rajouter des identifiants, ouvrez le fichiers .htpasswd du r\u00e9pertoire prot\u00e9g\u00e9 et rajoutez une ligne de la mani\u00e8re suivante: nom_utilisateur:mdp_en_md5 Exemple:","title":"Identifiants"},{"location":"auth.html#acceder-au-repertoire-protege","text":"Il vous sera alors demand\u00e9 un des identifiants d'une ligne de votre .htpasswd pour vous connecter. Attention, le mot de passe demand\u00e9 est celui qui n'est pas en MD5.","title":"Acc\u00e9der au r\u00e9pertoire prot\u00e9g\u00e9"},{"location":"difficultes.html","text":"Difficult\u00e9s rencontr\u00e9es & Conclusion Prise en main de Scene Builder Scene Builder est outil interactif de conception d'interface graphique pour JavaFX. J'ai eu quelques difficult\u00e9s quant \u00e0 la prise en main de Scene Builder. Il a fallut que je choisisse les composants de la mani\u00e8re la plus pertinente possible. J'ai donc effectu\u00e9 un travail en amont afin de savoir exactement ce dont j'avais besoin. J'ai utilis\u00e9 l'application GoodNotes sur IPAD afin de m'aider dans le processus d'id\u00e9ation. Ainsi, j'avais une id\u00e9e pr\u00e9cise de ce que je voulais. Voici, ci-dessous le sch\u00e9ma que j'ai effectu\u00e9 : Traitement des CSVs Dans le but d'extraire les donn\u00e9es des CSV, j'ai cod\u00e9 trois m\u00e9thodes ( parsePersonneRdvVaccin , parseDecesHopital , parseDepartements ) me permettant de r\u00e9cup\u00e9rer les donn\u00e9es. J'ai eu un probl\u00e8me au niveau du parsing des donn\u00e9es car je n'avais pas suffisamment observ\u00e9 les jeux de donn\u00e9es (notamment les s\u00e9parateurs et les types de donn\u00e9es). Suite \u00e0 une \u00e9tude plus approfondie et en retravaillant le cours correspondant \u00e0 cette partie, j'ai tr\u00e8s vite r\u00e9ussi \u00e0 d\u00e9passer ce probl\u00e8me. Conclusion Finalement, ce projet a \u00e9t\u00e9 tr\u00e8s enrichissant puisqu'il traite d'un sujet d'actualit\u00e9. J'ai donc travaill\u00e9 avec un int\u00e9r\u00eat particulier sur le projet. J'ai beaucoup appris tant sur l'aspect structurel (MVC) d'un projet mais aussi sur le c\u00f4t\u00e9 technique (Utilisation de Scene Builder et parsing) de celui-ci.","title":"Difficult\u00e9s rencontr\u00e9es & Conclusion"},{"location":"difficultes.html#difficultes-rencontrees-conclusion","text":"","title":"Difficult\u00e9s rencontr\u00e9es &amp; Conclusion"},{"location":"difficultes.html#prise-en-main-de-scene-builder","text":"Scene Builder est outil interactif de conception d'interface graphique pour JavaFX. J'ai eu quelques difficult\u00e9s quant \u00e0 la prise en main de Scene Builder. Il a fallut que je choisisse les composants de la mani\u00e8re la plus pertinente possible. J'ai donc effectu\u00e9 un travail en amont afin de savoir exactement ce dont j'avais besoin. J'ai utilis\u00e9 l'application GoodNotes sur IPAD afin de m'aider dans le processus d'id\u00e9ation. Ainsi, j'avais une id\u00e9e pr\u00e9cise de ce que je voulais. Voici, ci-dessous le sch\u00e9ma que j'ai effectu\u00e9 :","title":"Prise en main de Scene Builder"},{"location":"difficultes.html#traitement-des-csvs","text":"Dans le but d'extraire les donn\u00e9es des CSV, j'ai cod\u00e9 trois m\u00e9thodes ( parsePersonneRdvVaccin , parseDecesHopital , parseDepartements ) me permettant de r\u00e9cup\u00e9rer les donn\u00e9es. J'ai eu un probl\u00e8me au niveau du parsing des donn\u00e9es car je n'avais pas suffisamment observ\u00e9 les jeux de donn\u00e9es (notamment les s\u00e9parateurs et les types de donn\u00e9es). Suite \u00e0 une \u00e9tude plus approfondie et en retravaillant le cours correspondant \u00e0 cette partie, j'ai tr\u00e8s vite r\u00e9ussi \u00e0 d\u00e9passer ce probl\u00e8me.","title":"Traitement des CSVs"},{"location":"difficultes.html#conclusion","text":"Finalement, ce projet a \u00e9t\u00e9 tr\u00e8s enrichissant puisqu'il traite d'un sujet d'actualit\u00e9. J'ai donc travaill\u00e9 avec un int\u00e9r\u00eat particulier sur le projet. J'ai beaucoup appris tant sur l'aspect structurel (MVC) d'un projet mais aussi sur le c\u00f4t\u00e9 technique (Utilisation de Scene Builder et parsing) de celui-ci.","title":"Conclusion"},{"location":"gzip.html","text":"Compression GZIP des ressources Fonctionnement du code Afin de compresser nos ressources, il a fallu compresser les bytes avec un utilitaire GZIP pr\u00e9sent dans Java. De plus il fallait changer le type des ressources pour que le navigateur comprenne qu'il s'agissait des ressources compr\u00e9ss\u00e9es. V\u00e9rification du fonctionnement Pour v\u00e9rifier que nos ressources sont bien compr\u00e9ss\u00e9es, on peut utiliser l'outil de d\u00e9veloppement de Google Chrome. On se rend ensuite dans la liste de nos ressources et on peut voir le type de compression de ces derni\u00e8res. Prenons par exemple la ressource pic01.jpg On voit alors que le type d'encodage est bien gzip et que le navigateur arrive a bien l'interpr\u00e9ter.","title":"Bonus Ressources GZIP"},{"location":"gzip.html#compression-gzip-des-ressources","text":"","title":"Compression GZIP des ressources"},{"location":"gzip.html#fonctionnement-du-code","text":"Afin de compresser nos ressources, il a fallu compresser les bytes avec un utilitaire GZIP pr\u00e9sent dans Java. De plus il fallait changer le type des ressources pour que le navigateur comprenne qu'il s'agissait des ressources compr\u00e9ss\u00e9es.","title":"Fonctionnement du code"},{"location":"gzip.html#verification-du-fonctionnement","text":"Pour v\u00e9rifier que nos ressources sont bien compr\u00e9ss\u00e9es, on peut utiliser l'outil de d\u00e9veloppement de Google Chrome. On se rend ensuite dans la liste de nos ressources et on peut voir le type de compression de ces derni\u00e8res. Prenons par exemple la ressource pic01.jpg On voit alors que le type d'encodage est bien gzip et que le navigateur arrive a bien l'interpr\u00e9ter.","title":"V\u00e9rification du fonctionnement"},{"location":"installation.html","text":"Comment lancer l'application ? Pr\u00e9requis Afin de lancer l'application, il vous faudra Java sur votre Machine. La version utilis\u00e9e pour ce projet est Java 11. Vous pouvez v\u00e9rifier la version de votre Java en tappant java -version dans votre cmd/terminal. Maintenant il vous faut d\u00e9terminer sur quel OS vous vous trouvez, ensuite suivez l'explication correspondante: Sur Microsoft Windows Commencez par localiser votre fichier HttpServer-0.0.1-SNAPSHOT-src.zip puis extrayez-le. Rendez vous ensuite dans le dossier extrait et finalement dans le dossier bindist-win , ensuite \"bin\" et lancez run.bat . Vous devriez avoir une erreur: Ceci vous indique qu'il vous manque l'argument --properties {location} il vous faut donc sp\u00e9cifi\u00e9 via un argument l'endroit o\u00f9 vous souhaitez avoir votre fichier de propri\u00e9t\u00e9. Voici un exemple: Le serveur est alors lanc\u00e9, f\u00e9licitations. Sur un syst\u00e8me Unix / Linux / Apple Mac OS Commencez par localiser votre fichier HttpServer-0.0.1-SNAPSHOT-src.zip puis extrayez-le. Rendez vous ensuite dans le dossier extrait et finalement dans le dossier bindist-unix , ensuite \"bin\" et lancez run . Vous devriez avoir une erreur qui vous dit qu'il manque un argument. Ceci vous indique qu'il vous manque l'argument --properties {location} il vous faut donc sp\u00e9cifi\u00e9 via un argument l'endroit o\u00f9 vous souhaitez avoir votre fichier de propri\u00e9t\u00e9. Il vous faut donc faire ./run --properties {votre localisation} . Le serveur est alors lanc\u00e9, f\u00e9licitations. Erreur commune Il se peut que vous rencontriez cette erreur: [ERROR] During server starting : java.net.BindException: Address already in use: bind Cela veut dire que vous avez soit le port du serveur qui est d\u00e9j\u00e0 utilis\u00e9, soit que vous avez deux instance du programme.","title":"Installation"},{"location":"installation.html#comment-lancer-lapplication","text":"","title":"Comment lancer l'application ?"},{"location":"installation.html#prerequis","text":"Afin de lancer l'application, il vous faudra Java sur votre Machine. La version utilis\u00e9e pour ce projet est Java 11. Vous pouvez v\u00e9rifier la version de votre Java en tappant java -version dans votre cmd/terminal. Maintenant il vous faut d\u00e9terminer sur quel OS vous vous trouvez, ensuite suivez l'explication correspondante:","title":"Pr\u00e9requis"},{"location":"installation.html#sur-microsoft-windows","text":"Commencez par localiser votre fichier HttpServer-0.0.1-SNAPSHOT-src.zip puis extrayez-le. Rendez vous ensuite dans le dossier extrait et finalement dans le dossier bindist-win , ensuite \"bin\" et lancez run.bat . Vous devriez avoir une erreur: Ceci vous indique qu'il vous manque l'argument --properties {location} il vous faut donc sp\u00e9cifi\u00e9 via un argument l'endroit o\u00f9 vous souhaitez avoir votre fichier de propri\u00e9t\u00e9. Voici un exemple: Le serveur est alors lanc\u00e9, f\u00e9licitations.","title":"Sur Microsoft Windows"},{"location":"installation.html#sur-un-systeme-unix-linux-apple-mac-os","text":"Commencez par localiser votre fichier HttpServer-0.0.1-SNAPSHOT-src.zip puis extrayez-le. Rendez vous ensuite dans le dossier extrait et finalement dans le dossier bindist-unix , ensuite \"bin\" et lancez run . Vous devriez avoir une erreur qui vous dit qu'il manque un argument. Ceci vous indique qu'il vous manque l'argument --properties {location} il vous faut donc sp\u00e9cifi\u00e9 via un argument l'endroit o\u00f9 vous souhaitez avoir votre fichier de propri\u00e9t\u00e9. Il vous faut donc faire ./run --properties {votre localisation} . Le serveur est alors lanc\u00e9, f\u00e9licitations.","title":"Sur un syst\u00e8me Unix / Linux / Apple Mac OS"},{"location":"installation.html#erreur-commune","text":"Il se peut que vous rencontriez cette erreur: [ERROR] During server starting : java.net.BindException: Address already in use: bind Cela veut dire que vous avez soit le port du serveur qui est d\u00e9j\u00e0 utilis\u00e9, soit que vous avez deux instance du programme.","title":"Erreur commune"},{"location":"structure.html","text":"Structure du projet Le projet est structur\u00e9 de la mani\u00e8re suivante : src/main/java fr.ul.miage.reseau.httpserver HttpServer.java # Main de l'application, cette classe permet de lancer l'application constants # Ce package contient les param\u00e8tres et constantes ExtensionsConvertor.java # Cette classe permet de convertir les extensions de nos fichiers vers les types web managers # Ce package contient toutes les classes permettant le traitement et sauvegarde en m\u00e9moire des donn\u00e9es PropertiesManager.java # Cette classe permet de g\u00e9rer et sauvegarder nos propri\u00e9t\u00e9s server # Ce package contient toutes les classes relatives au fonctionnement de notre serveur web ServerManager.java # Cette classe permet de g\u00e9rer les threads de notre serveur et de les executer ServerRessourceManager.java # Cette classe permet de g\u00e9rer le traitements des ressources de notre serveur ServerThreadShutDown.java # Cette classe permet d'\u00e9teindre le thread principale de notre serveur web utils # Ce package contient tous les utilitaires de notre serveur AuthCredentials.java # Cette classe est un pojo login/password simple MD5Utils.java # Cette classe contient les algorithmes MD5 WebTypeFileExtension.java # Cette classe contient les fonctions de conversion d'une extension vers un web type","title":"Structure du projet"},{"location":"structure.html#structure-du-projet","text":"Le projet est structur\u00e9 de la mani\u00e8re suivante : src/main/java fr.ul.miage.reseau.httpserver HttpServer.java # Main de l'application, cette classe permet de lancer l'application constants # Ce package contient les param\u00e8tres et constantes ExtensionsConvertor.java # Cette classe permet de convertir les extensions de nos fichiers vers les types web managers # Ce package contient toutes les classes permettant le traitement et sauvegarde en m\u00e9moire des donn\u00e9es PropertiesManager.java # Cette classe permet de g\u00e9rer et sauvegarder nos propri\u00e9t\u00e9s server # Ce package contient toutes les classes relatives au fonctionnement de notre serveur web ServerManager.java # Cette classe permet de g\u00e9rer les threads de notre serveur et de les executer ServerRessourceManager.java # Cette classe permet de g\u00e9rer le traitements des ressources de notre serveur ServerThreadShutDown.java # Cette classe permet d'\u00e9teindre le thread principale de notre serveur web utils # Ce package contient tous les utilitaires de notre serveur AuthCredentials.java # Cette classe est un pojo login/password simple MD5Utils.java # Cette classe contient les algorithmes MD5 WebTypeFileExtension.java # Cette classe contient les fonctions de conversion d'une extension vers un web type","title":"Structure du projet"},{"location":"utilisation.html","text":"Guide d'utilisation Aper\u00e7u Lorsque le serveur est correctement lanc\u00e9, vous devriez avoir des informations similaire dans votre console. Fichier properties Lorsque vous lancez le serveur pour la premi\u00e8re fois, un fichier de propri\u00e9t\u00e9 est cr\u00e9er \u00e0 la location que vous avez d\u00e9finit dans votre argument --properties. Il est de base remplie avec ces informations: Description des propri\u00e9t\u00e9s: 1 - Nombre de threads concurrents maximums 2 - Dossier dans lequel se trouve les fichiers de vos sites 3 - Port du serveur Une fois le serveur \u00e9teins, vous pouvez alors \u00e9diter les propri\u00e9t\u00e9s et relancer le serveur avec le m\u00eame param\u00e8tre pour l'endroit des propri\u00e9t\u00e9s. Premier acc\u00e8s au localhost Lors de votre premier acc\u00e8s, si vous n'avez mis aucun fichier dans le dossier de votre serveur web, vous devriez tomb\u00e9 sur une erreur 404. D\u00e9tail des requ\u00eates Lorsque vous acc\u00e9der \u00e0 un site, vous aurez dans la console le retour des requ\u00eates. Vous pourrez voir : - Le protocol - La m\u00e9thode - L'ip de la personne - La ressource demand\u00e9e - Le type de contenu (type web) demand\u00e9 Remplir le dossier du serveur web Prenons pour exemple les ressources fournies par le professeur pour ce projet. En retournant sur localhost:80 nous retrouverons ceci: index.html Nous pouvons \u00e9galement aller dans les deux autres dossiers : Dopetrope Verti","title":"Utilisation g\u00e9n\u00e9rale"},{"location":"utilisation.html#guide-dutilisation","text":"","title":"Guide d'utilisation"},{"location":"utilisation.html#apercu","text":"Lorsque le serveur est correctement lanc\u00e9, vous devriez avoir des informations similaire dans votre console.","title":"Aper\u00e7u"},{"location":"utilisation.html#fichier-properties","text":"Lorsque vous lancez le serveur pour la premi\u00e8re fois, un fichier de propri\u00e9t\u00e9 est cr\u00e9er \u00e0 la location que vous avez d\u00e9finit dans votre argument --properties. Il est de base remplie avec ces informations: Description des propri\u00e9t\u00e9s: 1 - Nombre de threads concurrents maximums 2 - Dossier dans lequel se trouve les fichiers de vos sites 3 - Port du serveur Une fois le serveur \u00e9teins, vous pouvez alors \u00e9diter les propri\u00e9t\u00e9s et relancer le serveur avec le m\u00eame param\u00e8tre pour l'endroit des propri\u00e9t\u00e9s.","title":"Fichier properties"},{"location":"utilisation.html#premier-acces-au-localhost","text":"Lors de votre premier acc\u00e8s, si vous n'avez mis aucun fichier dans le dossier de votre serveur web, vous devriez tomb\u00e9 sur une erreur 404.","title":"Premier acc\u00e8s au localhost"},{"location":"utilisation.html#detail-des-requetes","text":"Lorsque vous acc\u00e9der \u00e0 un site, vous aurez dans la console le retour des requ\u00eates. Vous pourrez voir : - Le protocol - La m\u00e9thode - L'ip de la personne - La ressource demand\u00e9e - Le type de contenu (type web) demand\u00e9","title":"D\u00e9tail des requ\u00eates"},{"location":"utilisation.html#remplir-le-dossier-du-serveur-web","text":"Prenons pour exemple les ressources fournies par le professeur pour ce projet. En retournant sur localhost:80 nous retrouverons ceci:","title":"Remplir le dossier du serveur web"},{"location":"utilisation.html#indexhtml","text":"Nous pouvons \u00e9galement aller dans les deux autres dossiers :","title":"index.html"},{"location":"utilisation.html#dopetrope","text":"","title":"Dopetrope"},{"location":"utilisation.html#verti","text":"","title":"Verti"}]}